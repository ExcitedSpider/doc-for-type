{"version":3,"file":"index.umd.js","sources":["../src/styles.js","../src/to-theme.js"],"sourcesContent":["// theme.styles object for use with typography.js-generated theme object\n// similar to typography.js style output, with these differences\n// - only includes styles for markdown elements\n// - does not include color styles\n// - does not include responsive styles\n\nimport assign from 'object-assign'\n\nconst heading = {\n  fontFamily: 'heading',\n  lineHeight: 'heading',\n  fontWeight: 'heading',\n}\n\nexport const styles = {\n  root: {\n    fontFamily: 'body',\n    fontSize: 2,\n    fontWeight: 'body',\n    lineHeight: 'body',\n  },\n  img: {\n    maxWidth: '100%',\n  },\n  h1: assign(\n    {\n      fontSize: 5,\n    },\n    heading\n  ),\n  h2: assign(\n    {\n      fontSize: 4,\n    },\n    heading\n  ),\n  h3: assign(\n    {\n      fontSize: 3,\n    },\n    heading\n  ),\n  h4: assign(\n    {\n      fontSize: 2,\n    },\n    heading\n  ),\n  h5: assign(\n    {\n      fontSize: 1,\n    },\n    heading\n  ),\n  h6: assign(\n    {\n      fontSize: 0,\n    },\n    heading\n  ),\n  ul: {\n    listStylePosition: 'outside',\n    listStyleImage: 'none',\n    ml: 3,\n  },\n  ol: {\n    listStylePosition: 'outside',\n    listStyleImage: 'none',\n    ml: 3,\n  },\n  li: {\n    mb: 2,\n    pl: 0,\n    ol: {\n      my: 2,\n      ml: 3,\n    },\n    ul: {\n      my: 2,\n      ml: 3,\n    },\n    p: {\n      mb: 2,\n    },\n  },\n  p: {},\n  table: {\n    borderCollapse: 'collapse',\n    width: '100%',\n  },\n  th: {\n    textAlign: 'left',\n    borderBottom: '1px solid',\n    px: 2,\n    py: 1,\n    ':first-child': {\n      pl: 0,\n    },\n    ':last-child': {\n      pr: 0,\n    },\n  },\n  td: {\n    textAlign: 'left',\n    borderBottom: '1px solid',\n    px: 2,\n    py: 1,\n    mt: '-1px',\n    ':first-child': {\n      pl: 0,\n    },\n    ':last-child': {\n      pr: 0,\n    },\n  },\n  blockquote: {\n    mx: 3,\n  },\n  hr: {\n    border: 0,\n    borderBottom: '1px solid',\n    mt: '-1px',\n    mb: 3,\n  },\n  b: {\n    fontWeight: 'bold',\n  },\n  strong: {\n    fontWeight: 'bold',\n  },\n  code: {\n    fontSize: '85%',\n  },\n  pre: {\n    fontSize: '85%',\n    padding: 3,\n  },\n}\n\nconst headings = ['h6', 'h5', 'h4', 'h3', 'h2', 'h1']\nconst blockElements = [\n  ...headings,\n  'ul',\n  'ol',\n  'p',\n  'pre',\n  'table',\n  'blockquote',\n  'img',\n  'hr',\n]\n\nblockElements.forEach(tag => {\n  assign(styles, {\n    [tag]: assign(\n      {\n        padding: 0,\n        margin: 0,\n        marginBottom: 3,\n      },\n      styles[tag]\n    ),\n  })\n})\n\nexport default styles\n","// custom implementation of typography.js for use in theme-ui\nimport verticalRhythm from 'compass-vertical-rhythm'\nimport ms from 'modularscale'\nimport styles from './styles'\n\n// - uses unitless values\n// - creates base theme object\n// - uses a static theme.styles object for consumption in theme-ui\n// - ignores overrideThemeStyles\n// - does not include color styles\n// - should be mostly compatible with existing typography.js themes\n\nconst defaults = {\n  baseFontSize: 16,\n  baseLineHeight: 1.45,\n  headerLineHeight: 1.1,\n  scaleRatio: 2,\n  googleFonts: [],\n  headerFontFamily: [\n    '-apple-system',\n    'BlinkMacSystemFont',\n    'Segoe UI',\n    'Roboto',\n    'Oxygen',\n    'Ubuntu',\n    'Cantarell',\n    'Fira Sans',\n    'Droid Sans',\n    'Helvetica Neue',\n    'sans-serif',\n  ],\n  bodyFontFamily: ['georgia', 'serif'],\n  headerWeight: 'bold',\n  bodyWeight: 'normal',\n  boldWeight: 'bold',\n  includeNormalize: true,\n  blockMarginBottom: 1,\n}\n\nexport const toUnitless = val => parseFloat(val)\n\nexport const getScale = opts => value =>\n  ms(value, opts.scaleRatio) * opts.baseFontSize\n\nexport const getSpace = (result, opts) => {\n  const n = toUnitless(result.rhythm(opts.blockMarginBottom))\n  return [0, 1 / 4, 1 / 2, 1, 2, 4, 8].map(v => v * n)\n}\n\n// genericFontFamilies, wrapFontFamily adapted from typography.js\n// Wrap font names in quotes, unless the font name is actually a keyword.\n// See https://stackoverflow.com/a/13752149 and https://www.w3.org/TR/CSS2/fonts.html#font-family-prop\nconst genericFontFamilies = [\n  'inherit',\n  'default',\n  'serif',\n  'sans-serif',\n  'monospace',\n  'fantasy',\n  'cursive',\n  '-apple-system',\n  'system-ui',\n]\n\nconst wrapFontFamily = fontFamily =>\n  genericFontFamilies.includes(fontFamily) ? fontFamily : `'${fontFamily}'`\n\nconst stackFonts = fonts => fonts.map(wrapFontFamily).join(', ')\n\nexport const getFonts = (result, opts) => {\n  const body = stackFonts(opts.bodyFontFamily)\n  const heading = stackFonts(opts.headerFontFamily)\n  return {\n    body,\n    heading,\n  }\n}\n\nexport const getFontSizes = (result, opts) => {\n  const scale = getScale(opts)\n  return [-1.5 / 5, -1 / 5, 0, 2 / 5, 3 / 5, 1].map(scale)\n}\n\nexport const getLineHeights = (result, opts) => {\n  const body = opts.baseLineHeight\n  const heading = opts.headerLineHeight\n  return {\n    body,\n    heading,\n  }\n}\n\nexport const getFontWeights = (result, opts) => {\n  const body = opts.bodyWeight\n  const bold = opts.boldWeight\n  const heading = opts.headerWeight\n  return {\n    body,\n    bold,\n    heading,\n  }\n}\n\nexport const toTheme = (_opts = {}) => {\n  const opts = { ...defaults, ..._opts }\n  // enforce unitless values\n  opts.baseFontSize = toUnitless(opts.baseFontSize)\n  opts.rhythmUnit = 'px'\n\n  const typo = verticalRhythm(opts)\n  const theme = {}\n  typo.options = opts\n\n  theme.space = getSpace(typo, opts)\n  theme.fonts = getFonts(typo, opts)\n  theme.fontSizes = getFontSizes(typo, opts)\n  theme.fontWeights = getFontWeights(typo, opts)\n  theme.lineHeights = getLineHeights(typo, opts)\n\n  return {\n    ...theme,\n    styles,\n    typography: typo,\n  }\n}\n\nexport default toTheme\n"],"names":["heading","fontFamily","lineHeight","fontWeight","styles","root","fontSize","img","maxWidth","h1","assign","h2","h3","h4","h5","h6","ul","listStylePosition","listStyleImage","ml","ol","li","mb","pl","my","p","table","borderCollapse","width","th","textAlign","borderBottom","px","py","pr","td","mt","blockquote","mx","hr","border","b","strong","code","pre","padding","headings","blockElements","forEach","tag","margin","marginBottom","defaults","baseFontSize","baseLineHeight","headerLineHeight","scaleRatio","googleFonts","headerFontFamily","bodyFontFamily","headerWeight","bodyWeight","boldWeight","includeNormalize","blockMarginBottom","toUnitless","val","parseFloat","getScale","opts","value","ms","getSpace","result","n","rhythm","map","v","genericFontFamilies","wrapFontFamily","includes","stackFonts","fonts","join","getFonts","body","getFontSizes","scale","getLineHeights","getFontWeights","bold","toTheme","_opts","rhythmUnit","typo","verticalRhythm","theme","options","space","fontSizes","fontWeights","lineHeights","typography"],"mappings":"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"}