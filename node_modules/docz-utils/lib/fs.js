'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

require('prettier');
require('signale');
var format = require('./format.js');
var path = require('path');
var fs = require('fs-extra');
var artTemplate = require('art-template');

const touch = (file, raw) => new Promise(async (resolve, reject) => {
  const content = /jsx?$/.test(path.extname(file)) ? await format.format(raw) : raw;
  const stream = fs.createWriteStream(file);
  stream.write(content, 'utf-8');
  stream.on('finish', () => resolve());
  stream.on('error', err => reject(err));
  stream.end();
});
const compiled = (file, opts = {}) => {
  const raw = fs.readFileSync(file, {
    encoding: 'utf-8'
  });
  return artTemplate.compile(raw, opts);
};

exports.compiled = compiled;
exports.touch = touch;
